<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Генератор кейсов: Маркетолог или Дизайнер?</title>
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body {
            font-family: system-ui, -apple-system, sans-serif;
            color: white;
            background: #000;
            height: 100dvh;
            overflow: hidden;
        }
        .page {
            position: absolute;
            inset: 0;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-size: cover;
            background-position: center;
            padding: 10px 14px;
            gap: 1.2vh;
        }

        h1 { font-size: clamp(1.7rem, 6.5vw, 2.8rem); margin: 0.3em 0; text-shadow: 0 2px 8px #000; text-align: center; }
        p { font-size: clamp(0.95rem, 3.8vw, 1.2rem); max-width: 92%; text-align: center; margin: 0.6em 0 1em; line-height: 1.4; }

        .btn {
            padding: 12px 28px;
            font-size: clamp(1rem, 4vw, 1.15rem);
            background: linear-gradient(135deg, #ffea70, #d4af37);
            color: #111;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.5);
            min-width: 140px;
        }
        .btn:active { transform: scale(0.97); }

        .stars { position: absolute; inset: 0; pointer-events: none; }
        .star { position: absolute; background: white; border-radius: 50%; opacity: 0.4; animation: twinkle 5s infinite; }
        @keyframes twinkle { 50% { opacity: 0.08; } }

        /* ─── Loading ─── */
        #loading {
            background-image: url('scene_bg.webp');
            justify-content: center;
        }
        #loading .scene-container {
            position: relative;
            width: 100%;
            height: 42vh;
            max-height: 360px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #loading .cardpick-wrapper {
            position: absolute;
            inset: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeOutUp 1s ease-in-out 1.5s forwards;
        }
        @keyframes fadeOutUp { to { opacity:0; transform: translateY(-35%); } }
        #loading .dealer {
            width: clamp(200px, 50vw, 320px);
            max-height: 55vh;
            object-fit: contain;
            opacity: 0;
            animation: fadeInDown 1.2s ease-out 1.7s forwards;
        }
        @keyframes fadeInDown { from { opacity:0; transform: translateY(25%); } to { opacity:1; transform: translateY(0); } }
        #loading .dialog {
            margin-top: 16px;
            text-align: center;
            opacity: 0;
            animation: appear 0.7s ease-out 3s forwards;
        }

        /* ─── Home ─── */
        #home { background-image: url('home_bg.webp'); }
        #home .hand { width: clamp(140px, 35vw, 220px); margin-bottom: 12px; }
        #home .cards { display: flex; gap: 24px; margin: 12px 0; }
        #home .card { width: clamp(90px, 28vw, 140px); cursor: pointer; }

        /* ─── Generators ─── */
        #design, #marketing {
            justify-content: flex-start;
            padding-top: 6vh;
        }
        #design { background-image: url('design_bg.webp'); }
        #marketing { background-image: url('marketing_bg.webp'); }

        .slot, .cup-container {
            width: clamp(160px, 42vw, 240px);
            height: clamp(200px, 55vw, 300px);
            position: relative;
            margin: 16px 0 24px;
            cursor: pointer;
        }
        .slot img { width: 100%; height: 100%; object-fit: contain; }

        .cup-container .cup {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            object-fit: contain;
            z-index: 2;
            transition: transform 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }

        .cup-container .dice {
            position: absolute;
            width: 60%;
            top: 38%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1;
            transition: all 0.6s ease;
        }

        .cup-container.animate .cup {
            transform: translateY(-15%) scale(1.12);
        }

        .cup-container.animate .dice {
            transform: translate(-50%, -65%) scale(1.08);
        }

        #design-tz, #marketing-tz {
            background: rgba(0,0,0,0.5);
            backdrop-filter: blur(8px);
            border-radius: 12px;
            padding: 14px;
            margin: 12px 0;
            width: 92%;
            max-width: 500px;
        }
        .tz { font-size: clamp(0.9rem, 3.4vw, 1.05rem); margin: 0.4em 0; text-align: left; }
        .checkboxes { display: flex; flex-wrap: wrap; gap: 10px 16px; justify-content: center; margin: 14px 0; font-size: clamp(0.9rem, 3.6vw, 1.05rem); }
        .actions { display: flex; flex-wrap: wrap; gap: 12px 20px; justify-content: center; margin-top: 16px; }

        @media (min-width: 768px) {
            .page { padding: 30px 50px; gap: 2vh; }
            h1 { font-size: 2.8rem; }
            .btn { padding: 16px 44px; font-size: 1.25rem; }
            .slot, .cup-container { width: 260px; height: 340px; }
        }
    </style>
</head>
<body>

    <!-- Home -->
    <div id="home" class="page">
        <img src="home_hand.png" class="hand" alt="">
        <div class="cards">
            <img src="card_design.png" class="card" onclick="selectRole('design')" alt="">
            <img src="card_marketing.png" class="card" onclick="selectRole('marketing')" alt="">
        </div>
        <p>Выберите карту</p>
    </div>

    <!-- Loading -->
    <div id="loading" class="page">
        <div class="scene-container">
            <div class="cardpick-wrapper">
                <img src="scene_cardpick.webp" class="cardpick" alt="">
            </div>
            <img src="scene_dealer.webp" class="dealer" alt="">
        </div>
        <div class="dialog">
            <p>У меня есть пара интересных кейсов для тебя</p>
            <div class="buttons">
                <button class="btn" onclick="goToGenerator()">Хорошо, идем</button>
                <button class="btn" onclick="goHome()">Я не определился с картой</button>
            </div>
        </div>
    </div>

    <!-- Design -->
    <div id="design" class="page">
        <div class="stars"></div>
        <h1>Генератор кейсов для дизайнеров</h1>
        <p>Сгенерируйте идею для кейса: вы можете использовать ее для лого, презентации, мерча или даже брендбука</p>
        <img src="design_slot.png" class="slot" onclick="generateDesign()" alt="">
        <div id="design-tz"></div>
        <div class="checkboxes">
            <label><input type="checkbox" value="логотип"> Логотип</label>
            <label><input type="checkbox" value="мерч"> Мерч</label>
            <label><input type="checkbox" value="брендбук"> Брендбук</label>
            <label><input type="checkbox" value="презентация"> Презентация</label>
            <label><input type="checkbox" value="маскот"> Маскот</label>
            <label><input type="text" id="custom-design" placeholder="Что-то свое"></label>
        </div>
        <div class="actions">
            <button class="btn" onclick="copyDesignTZ()">Скопировать ТЗ</button>
            <button class="btn" onclick="clearTZ('design')">Стереть</button>
            <button class="btn" onclick="goHome()">Домой</button>
        </div>
    </div>

    <!-- Marketing -->
    <div id="marketing" class="page">
        <div class="stars"></div>
        <h1>Генератор кейсов для маркетологов</h1>
        <p>Сгенерируйте идею для кейса: вы можете использовать ее для презентации, исследования, брендбука, сравнения или любого другого кейса</p>
        <div class="cup-container" onclick="generateMarketingWithAnim()">
            <img src="marketing_cup.png" class="cup" alt="Чаша">
            <img src="marketing_dice.png" class="dice" alt="Кубики">
        </div>
        <div id="marketing-tz"></div>
        <select id="marketing-type">
            <option value="презентация">Презентация</option>
            <option value="исследование">Исследование</option>
            <option value="брендбук">Брендбук</option>
            <option value="сравнение">Сравнение</option>
            <option value="другое">Другое</option>
        </select>
        <div class="actions">
            <button class="btn" onclick="copyMarketingTZ()">Скопировать ТЗ</button>
            <button class="btn" onclick="clearTZ('marketing')">Стереть</button>
            <button class="btn" onclick="goHome()">Домой</button>
        </div>
    </div>

    <script>
        // Массивы (полные, как раньше)
        const companyNames = ["EcoBloom Solutions","TechNova Innovations","FreshHarvest Foods","UrbanMobility Rides","StyleForge Apparel","HealthVibe Wellness","CodeCraft Software","GreenLeaf Energy","LuxeHome Interiors","FitTrack Gear","ByteBridge Networks","PureSip Beverages","AdventureQuest Travel","SmartNest Homes","GlowBeauty Cosmetics","PowerUp Fitness","DataSphere Analytics","CraftBrew Masters","EcoDrive Autos","MindfulMed Health","VirtualWorld VR","PetPals Supplies","FinSecure Banking","ArtisanalBake Goods","SolarSpark Energy","EduQuest Learning","FashionFusion Clothes","AgriTech Farms","SoundWave Audio","BioVital Supplements","TravelTrek Tours","HomeHarmony Decor","SpeedNet Internet","WellnessWave Spa","InnovateHub Tech","GourmetGrove Foods","AutoElite Cars","BrainBoost Education","StyleSphere Fashion","EcoPure Water","GameForge Studios","HealthHub Clinics","CloudCore Computing","BrewBuddy Coffee","RideShare Mobility","BeautyBloom Skincare","EnergyEdge Power","SoftServe IT","FarmFresh Produce","LuxTravel Experiences"];

        const positionings = ["Экологически чистые решения для устойчивого будущего","Инновационные технологии для цифровой трансформации","Свежие органические продукты прямо с фермы","Удобный и доступный городской транспорт","Современная мода для уверенных в себе людей","Holistic подход к здоровью и благополучию","Надежное ПО для бизнеса любого масштаба","Возобновляемая энергия для зеленого мира","Элегантный дизайн интерьеров для комфорта","Спортивное оборудование для активного образа жизни","Безопасные сети для бесперебойной связи","Натуральные напитки для ежедневного удовольствия","Приключенческие туры для искателей адреналина","Умные дома для современной жизни","Натуральная косметика для сияющей кожи","Фитнес-программы для максимальной эффективности","Аналитика данных для умных решений","Ремесленное пиво для ценителей вкуса","Экологичные автомобили для сознательных водителей","Ментальное здоровье через mindfulness практики","Иммерсивный VR для развлечений и образования","Качественные товары для любимых питомцев","Безопасные финансовые услуги для всех","Ручная выпечка с традиционными рецептами","Солнечная энергия для независимости","Интерактивное обучение для детей и взрослых","Фьюжн стилей в одежде для креативных","Технологии для эффективного земледелия","Аудиооборудование для профессионалов","Биодобавки для естественного благополучия","Персонализированные путешествия по миру","Гармоничный декор для уютного дома","Быстрый интернет для работы и развлечений","Расслабляющие спа-процедуры для релакса","Хаб для инноваций в технологиях","Гурманские продукты для изысканного вкуса","Элитные автомобили для премиум-класса","Развитие мозга через образовательные инструменты","Сфера стиля для модных трендов","Чистая вода для здоровья семьи","Игровые студии для эпичных приключений","Клиники для комплексного ухода за здоровьем","Облачные решения для бизнеса","Кофе для бодрого старта дня","Общий транспорт для экологичного перемещения","Уход за кожей с натуральными ингредиентами","Энергия на краю инноваций","IT-услуги для мягкой интеграции","Свежие продукты с фермы к столу","Роскошные путешествия для незабываемых впечатлений"];

        // ... (остальные массивы products, designProblems, marketingProblems, tasks, goals, colors — вставь их из предыдущего полного кода, они не изменились)

        let currentRole = "";

        function randomItem(arr) { return arr[Math.floor(Math.random() * arr.length)]; }

        function showPage(id) {
            document.querySelectorAll(".page").forEach(p => p.style.display = "none");
            document.getElementById(id).style.display = "flex";
            if (id === "design" || id === "marketing") createStars(id);
        }

        function selectRole(role) {
            currentRole = role;
            showPage("loading");
        }

        function goToGenerator() { showPage(currentRole); }
        function goHome() { showPage("home"); }

        // generateDesign, generateMarketing, copy*, clearTZ — как раньше

        function generateMarketingWithAnim() {
            const container = document.querySelector("#marketing .cup-container");
            container.classList.add("animate");

            setTimeout(() => {
                container.classList.remove("animate");
                generateMarketing();
            }, 1200); // длительность анимации
        }

        function createStars(id) {
            const container = document.querySelector(`#${id} .stars`);
            container.innerHTML = "";
            const count = window.innerWidth > 900 ? 60 : 35;
            for (let i = 0; i < count; i++) {
                const s = document.createElement("div");
                s.className = "star";
                s.style.width = s.style.height = Math.random() * 3 + 1 + "px";
                s.style.top = Math.random() * 100 + "%";
                s.style.left = Math.random() * 100 + "%";
                s.style.animationDelay = Math.random() * 5 + "s";
                container.appendChild(s);
            }
        }

        showPage("home");
    </script>
</body>
</html>
