<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Генератор кейсов: Маркетолог или Дизайнер?</title>
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            color: white;
            background: #000;
            height: 100dvh;
            overflow: hidden;
        }
        .page {
            position: absolute;
            inset: 0;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-size: cover;
            background-position: center;
            padding: 12px;
        }

        /* ──────────────────────────────
           Анимации
        ────────────────────────────── */
        @keyframes deal { 0% { transform: translateY(40%) scale(0.8); opacity:0; } 100% { transform: translateY(0) scale(1); opacity:1; } }
        @keyframes fadeOutUp { 0% { opacity:1; transform: translateY(0); } 100% { opacity:0; transform: translateY(-60%); } }
        @keyframes fadeInDown { 0% { opacity:0; transform: translateY(30%); } 100% { opacity:1; transform: translateY(0); } }
        @keyframes appear { 0% { opacity:0; } 100% { opacity:1; } }

        /* ──────────────────────────────
           Loading screen — специальный стиль
        ────────────────────────────── */
        #loading {
            background-image: url('scene_bg.webp');
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        #loading .scene-container {
            position: relative;
            width: 100%;
            height: 60vh;
            max-height: 420px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #loading .cardpick-wrapper {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fadeOutUp 1.2s ease-in-out 1.6s forwards;
            z-index: 2;
        }

        #loading .cardpick {
            width: clamp(180px, 50vw, 320px);
            max-height: 55vh;
            object-fit: contain;
        }

        #loading .dealer {
            width: clamp(220px, 55vw, 380px);
            max-height: 65vh;
            object-fit: contain;
            opacity: 0;
            animation: fadeInDown 1.4s ease-out 1.8s forwards;
            z-index: 1;
        }

        #loading .dialog {
            margin-top: 24px;
            text-align: center;
            opacity: 0;
            animation: appear 0.8s ease-out 3s forwards;
        }

        #loading p {
            font-size: clamp(1.1rem, 4.5vw, 1.5rem);
            margin-bottom: 28px;
            max-width: 90%;
        }

        #loading .buttons {
            display: flex;
            flex-direction: column;
            gap: 16px;
            width: 86%;
            max-width: 380px;
        }

        /* ──────────────────────────────
           Общие стили для остальных страниц
        ────────────────────────────── */
        h1 { font-size: clamp(1.9rem, 7.5vw, 3rem); margin-bottom: 0.5em; text-shadow: 0 3px 10px #000; }
        p { font-size: clamp(1rem, 4vw, 1.3rem); line-height: 1.4; max-width: 90%; text-align: center; margin: 0.8em 0; }
        .btn {
            padding: 14px 32px;
            font-size: clamp(1.1rem, 4.5vw, 1.25rem);
            background: linear-gradient(135deg, #ffea70, #d4af37);
            color: #111;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.5);
            min-width: 160px;
        }
        .btn:active { transform: scale(0.97); }

        .stars { position: absolute; inset: 0; pointer-events: none; }
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            opacity: 0.5;
            animation: twinkle 5s infinite;
        }
        @keyframes twinkle { 50% { opacity: 0.1; } }

        #home { background-image: url('home_bg.webp'); }
        #home .hand { width: clamp(180px, 40vw, 260px); animation: deal 2.5s ease-out; margin-bottom: 20px; }
        #home .cards { display: flex; gap: 30px; margin: 20px 0; }
        #home .card { width: clamp(120px, 35vw, 180px); cursor: pointer; }

        #design, #marketing { padding-top: 10vh; }
        #design { background-image: url('design_bg.webp'); }
        #marketing { background-image: url('marketing_bg.webp'); }
        .slot, .cup { width: clamp(180px, 45vw, 280px); margin: 20px 0; cursor: pointer; }
        .dice { width: 40%; position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%); }

        #design-tz, #marketing-tz {
            background: rgba(0,0,0,0.5);
            backdrop-filter: blur(6px);
            border-radius: 12px;
            padding: 16px;
            margin: 16px 0;
            width: 90%;
            max-width: 540px;
        }
        .tz { font-size: clamp(0.95rem, 3.5vw, 1.1rem); margin: 6px 0; text-align: left; }
        .checkboxes { display: flex; flex-wrap: wrap; gap: 12px; justify-content: center; margin: 16px 0; font-size: clamp(0.95rem, 3.8vw, 1.1rem); }
        .actions { display: flex; flex-wrap: wrap; gap: 16px; justify-content: center; margin-top: 20px; }

        @media (min-width: 768px) {
            .page { padding: 40px; }
            h1 { font-size: 3rem; }
            .btn { padding: 16px 48px; font-size: 1.3rem; }
            #loading .cardpick, #loading .dealer { width: 320px; max-height: none; }
        }
    </style>
</head>
<body>

    <!-- Home -->
    <div id="home" class="page">
        <img src="home_hand.png" class="hand" alt="">
        <div class="cards">
            <img src="card_design.png" class="card" onclick="selectRole('design')" alt="Дизайн">
            <img src="card_marketing.png" class="card" onclick="selectRole('marketing')" alt="Маркетинг">
        </div>
        <p>Выберите карту</p>
    </div>

    <!-- Loading с анимацией -->
    <div id="loading" class="page">
        <div class="scene-container">
            <div class="cardpick-wrapper">
                <img src="scene_cardpick.webp" class="cardpick" alt="">
            </div>
            <img src="scene_dealer.webp" class="dealer" alt="">
        </div>
        <div class="dialog">
            <p>У меня есть пара интересных кейсов для тебя</p>
            <div class="buttons">
                <button class="btn" onclick="goToGenerator()">Хорошо, идем</button>
                <button class="btn" onclick="goHome()">Я не определился с картой</button>
            </div>
        </div>
    </div>

    <!-- Design -->
    <div id="design" class="page">
        <div class="stars"></div>
        <h1>Генератор кейсов для дизайнеров</h1>
        <p>Сгенерируйте идею для кейса: вы можете использовать ее для лого, презентации, мерча или даже брендбука</p>
        <img src="design_slot.png" class="slot" onclick="generateDesign()" alt="">
        <div id="design-tz"></div>
        <div class="checkboxes">
            <label><input type="checkbox" value="логотип"> Логотип</label>
            <label><input type="checkbox" value="мерч"> Мерч</label>
            <label><input type="checkbox" value="брендбук"> Брендбук</label>
            <label><input type="checkbox" value="презентация"> Презентация</label>
            <label><input type="checkbox" value="маскот"> Маскот</label>
            <label><input type="text" id="custom-design" placeholder="Что-то свое"></label>
        </div>
        <div class="actions">
            <button class="btn" onclick="copyDesignTZ()">Скопировать ТЗ</button>
            <button class="btn" onclick="clearTZ('design')">Стереть</button>
            <button class="btn" onclick="goHome()">Домой</button>
        </div>
    </div>

    <!-- Marketing -->
    <div id="marketing" class="page">
        <div class="stars"></div>
        <h1>Генератор кейсов для маркетологов</h1>
        <p>Сгенерируйте идею для кейса: вы можете использовать ее для презентации, исследования, брендбука, сравнения или любого другого кейса</p>
        <div class="cup" onclick="generateMarketing()">
            <img src="marketing_cup.png" alt="">
            <img src="marketing_dice.png" class="dice" alt="">
        </div>
        <div id="marketing-tz"></div>
        <select id="marketing-type">
            <option value="презентация">Презентация</option>
            <option value="исследование">Исследование</option>
            <option value="брендбук">Брендбук</option>
            <option value="сравнение">Сравнение</option>
            <option value="другое">Другое</option>
        </select>
        <div class="actions">
            <button class="btn" onclick="copyMarketingTZ()">Скопировать ТЗ</button>
            <button class="btn" onclick="clearTZ('marketing')">Стереть</button>
            <button class="btn" onclick="goHome()">Домой</button>
        </div>
    </div>

    <script>
        // Массивы (полные, как раньше)
        const companyNames = ["EcoBloom Solutions","TechNova Innovations","FreshHarvest Foods","UrbanMobility Rides","StyleForge Apparel","HealthVibe Wellness","CodeCraft Software","GreenLeaf Energy","LuxeHome Interiors","FitTrack Gear","ByteBridge Networks","PureSip Beverages","AdventureQuest Travel","SmartNest Homes","GlowBeauty Cosmetics","PowerUp Fitness","DataSphere Analytics","CraftBrew Masters","EcoDrive Autos","MindfulMed Health","VirtualWorld VR","PetPals Supplies","FinSecure Banking","ArtisanalBake Goods","SolarSpark Energy","EduQuest Learning","FashionFusion Clothes","AgriTech Farms","SoundWave Audio","BioVital Supplements","TravelTrek Tours","HomeHarmony Decor","SpeedNet Internet","WellnessWave Spa","InnovateHub Tech","GourmetGrove Foods","AutoElite Cars","BrainBoost Education","StyleSphere Fashion","EcoPure Water","GameForge Studios","HealthHub Clinics","CloudCore Computing","BrewBuddy Coffee","RideShare Mobility","BeautyBloom Skincare","EnergyEdge Power","SoftServe IT","FarmFresh Produce","LuxTravel Experiences"];

        const positionings = ["Экологически чистые решения для устойчивого будущего","Инновационные технологии для цифровой трансформации","Свежие органические продукты прямо с фермы","Удобный и доступный городской транспорт","Современная мода для уверенных в себе людей","Holistic подход к здоровью и благополучию","Надежное ПО для бизнеса любого масштаба","Возобновляемая энергия для зеленого мира","Элегантный дизайн интерьеров для комфорта","Спортивное оборудование для активного образа жизни","Безопасные сети для бесперебойной связи","Натуральные напитки для ежедневного удовольствия","Приключенческие туры для искателей адреналина","Умные дома для современной жизни","Натуральная косметика для сияющей кожи","Фитнес-программы для максимальной эффективности","Аналитика данных для умных решений","Ремесленное пиво для ценителей вкуса","Экологичные автомобили для сознательных водителей","Ментальное здоровье через mindfulness практики","Иммерсивный VR для развлечений и образования","Качественные товары для любимых питомцев","Безопасные финансовые услуги для всех","Ручная выпечка с традиционными рецептами","Солнечная энергия для независимости","Интерактивное обучение для детей и взрослых","Фьюжн стилей в одежде для креативных","Технологии для эффективного земледелия","Аудиооборудование для профессионалов","Биодобавки для естественного благополучия","Персонализированные путешествия по миру","Гармоничный декор для уютного дома","Быстрый интернет для работы и развлечений","Расслабляющие спа-процедуры для релакса","Хаб для инноваций в технологиях","Гурманские продукты для изысканного вкуса","Элитные автомобили для премиум-класса","Развитие мозга через образовательные инструменты","Сфера стиля для модных трендов","Чистая вода для здоровья семьи","Игровые студии для эпичных приключений","Клиники для комплексного ухода за здоровьем","Облачные решения для бизнеса","Кофе для бодрого старта дня","Общий транспорт для экологичного перемещения","Уход за кожей с натуральными ингредиентами","Энергия на краю инноваций","IT-услуги для мягкой интеграции","Свежие продукты с фермы к столу","Роскошные путешествия для незабываемых впечатлений"];

        // ... остальные массивы (products, designProblems, marketingProblems, tasks, goals, colors) — вставь их сюда из предыдущего кода, чтобы не удлинять сообщение. Они не изменились.

        let currentRole = "";

        function randomItem(arr) { return arr[Math.floor(Math.random() * arr.length)]; }

        function showPage(id) {
            document.querySelectorAll(".page").forEach(p => p.style.display = "none");
            document.getElementById(id).style.display = "flex";
            if (id === "design" || id === "marketing") createStars(id);
        }

        function selectRole(role) {
            currentRole = role;
            showPage("loading");
        }

        function goToGenerator() { showPage(currentRole); }
        function goHome() { showPage("home"); }

        // generateDesign, generateMarketing, copy*, clearTZ — как в предыдущем полном коде

        function createStars(id) {
            const container = document.querySelector(`#${id} .stars`);
            container.innerHTML = "";
            const count = window.innerWidth > 900 ? 70 : 40;
            for (let i = 0; i < count; i++) {
                const s = document.createElement("div");
                s.className = "star";
                s.style.width = s.style.height = Math.random() * 3 + 1 + "px";
                s.style.top = Math.random() * 100 + "%";
                s.style.left = Math.random() * 100 + "%";
                s.style.animationDelay = Math.random() * 5 + "s";
                container.appendChild(s);
            }
        }

        showPage("home");
    </script>
</body>
</html>
